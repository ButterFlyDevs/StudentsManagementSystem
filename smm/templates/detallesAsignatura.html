{% extends "templates/base.html" %}

{% block content %}

  <script>
    function submitform(){
      //Entre paréntesis introducimos el id del elemento que queremos hacer submit
      document.getElementById(arguments[0]).submit();
    }
  </script>

  <br>

  <div class="uk-block uk-block-muted">
     <div class="uk-container">
     <h2>{{ asignatura.nombre }}</h2>

         <div class="uk-grid uk-grid-match" data-uk-grid-margin>
             <div class="uk-width-medium-1-3">
                 <div class="uk-panel">
                   <div class="uk-text-muted"> {{ asignatura.id }} </div>
                 </div>
             </div>
             <div class="uk-width-medium-1-3">
                 <img class="uk-align-medium-right" src="" alt="">
             </div>
         </div>
     </div>
 </div>

 <br>


 <!-- Menú inferior de opciones -->
     <form id="profesores" action="/detallesAsignatura" method="post">
       <!--Para que la página completa cargue bien le pasamos el tipo de datos que queremos mostrar y el dni del profesor-->
       <input type="hidden" name="tipo" value="profesores"/>
       <input type="hidden" name="idAsignatura" value="{{asignatura.id}}"/>
     </form>
     <form id="alumnos" action="/detallesAsignatura" method="post">
       <!--Para que la página completa cargue bien le pasamos el tipo de datos que queremos mostrar y el dni del profesor-->
       <input type="hidden" name="tipo" value="alumnos"/>
       <input type="hidden" name="idAsignatura" value="{{asignatura.id}}"/>
     </form>

     <ul class="uk-tab" >

       {% if profesores %}
        <li class="uk-active">
       {% else %}
        <li class="uk-disable">
       {% endif %}
         <a href="javascript: submitform('profesores')">Profesores</a>
       </li>

       <!--La clase usada depende de si esa pesataña está seleccionada o no para que de esa sensación de selección en la vista-->
       {% if alumnos %}
        <li class="uk-active">
       {% else %}
        <li class="uk-disable">
       {% endif %}
         <a href="javascript: submitform('alumnos')">Alumnos</a>
       </li>


     </ul>
<!-- Fin menu inferir de opciones -->

<!--Si se han pasado alumnos a la plantilla los vamos a listar -->
{% if profesores %}
       <br>
       <div class="uk-text-muted">Profesores que imparten la asignatura {{ asignatura.nombre }} :</div>
       <!--Para listarlos recorremos la lista de objetos pasada-->
       <ul class="uk-list uk-list-line">
         {% for profesor in profesores %}
           <li>{{ profesor.nombre }}  {{ profesor.apellidos }} </li>
         {% endfor %}
       </ul>
{% endif %}

<!--Si se han pasado alumnos a la plantilla los vamos a listar -->
{% if alumnos %}
       <br>
       <div class="uk-text-muted">Alumnos matriculados en la asignatura {{ asignatura.nombre }} :</div>
       <!--Para listarlos recorremos la lista de objetos pasada-->
       <ul class="uk-list uk-list-line">
         {% for alumno in alumnos %}
           <li>{{ alumno.nombre }}  {{ alumno.id }} </li>
         {% endfor %}
       </ul>
{% endif %}




<div class="uk-alert uk-alert-success" data-uk-alert>
  <a href="#" class="uk-alert-close uk-close"></a>
  <p>Esta funcionalidad está en fase de desarrollo.</p>
</div>


{% endblock %}

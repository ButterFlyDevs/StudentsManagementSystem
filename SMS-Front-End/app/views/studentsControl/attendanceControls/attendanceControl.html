<div flex ng-controller="attendanceControlController as vm">


    <div layout="row" layout-align="center" ng-cloak>
        <div flex="90" layout-padding>
            <div layout="row" layout-align="space-between start">
                <md-button class="md-primary md-raised"
                           ui-sref="teachers">
                    <md-icon>keyboard_arrow_left</md-icon>
                    Atras
                </md-button>
            </div>

            <p class="md-headline">Controles de Asistencia / <strong>Nuevo</strong></p>


            <div ng-if="!vm.dataIsReady">
                <spinner></spinner>
            </div>

            <div ng-if="vm.dataIsReady">


                <md-card layout="column" layout-margin layout-padding>
                    <!--Teacher info-->
                    Profesor:

                    <div flex="row">
                        <div flex="30">
                            <div layout="row">
                                <div ng-switch="vm.acBase.teacher.imageProfileUrl || '_undefined_'">
                                    <img ng-switch-when="_undefined_" class="img-profile"
                                         src="{{ vm.defaultAvatar }}">
                                    <img ng-switch-default class="img-profile-big" src="{{ vm.acBase.teacher.name }}">
                                </div>
                                <div flex>{{vm.acBase.teacher.name}} {{ vm.acBase.teacher.surname }}</div>

                            </div>

                        </div>
                        <!--Association info-->
                        <div flex="70">
                            Asignatura: {{ vm.acBase.association.subject.name }}
                            Grupo: {{ vm.acBase.association.classs.course }} {{ vm.acBase.association.classs.word }} {{
                            vm.acBase.association.classs.level }}
                        </div>

                    </div>

                    <md-list>
                        <md-list-item class="md-3-line" ng-repeat="student in vm.acBase.students">

                            <img ng-src="{{vm.defaultAvatar}}" class="md-avatar">
                            <div class="md-list-item-text">
                                <h3>{{student.name}}</h3>
                                <h4>{{student.surname}}</h4>
                            </div>

                            <div layout="row" layout-margin>
                                <!-- Assistance -->
                                <md-button
                                           ng-if="student.control.assistance"
                                           title="Launch Google.com in new window"
                                           target="_blank"
                                           ng-disabled="false"
                                           ng-click="vm.changeAssistanceForStudent(student.studentId)"
                                           aria-label="Google.com"
                                           class="md-icon-button launch">
                                    <md-icon style="font-size:40px; color:greenyellow;"> check_circle </md-icon>
                                </md-button>
                                <md-button
                                           ng-if="!student.control.assistance"
                                           title="Launch Google.com in new window"
                                           target="_blank"
                                           ng-disabled="false"
                                           ng-click="vm.changeAssistanceForStudent(student.studentId)"
                                           aria-label="Google.com"
                                           class="md-icon-button launch">
                                    <md-icon style="font-size:40px; color:red;"> check_circle </md-icon>
                                </md-button>
                                <!-- Delay -->
                                <md-button
                                           ng-if="student.control.assistance"
                                           title="Launch Google.com in new window"
                                           target="_blank"
                                           ng-disabled="false"
                                           ng-click="vm.changeAssistanceForStudent(student.studentId)"
                                           aria-label="Google.com"
                                           class="md-icon-button launch">
                                    <md-icon style="font-size:40px; color:greenyellow;"> query_builder </md-icon>
                                </md-button>
                                <md-button
                                           ng-if="!student.control.assistance"
                                           title="Launch Google.com in new window"
                                           target="_blank"
                                           ng-disabled="false"
                                           ng-click="vm.changeAssistanceForStudent(student.studentId)"
                                           aria-label="Google.com"
                                           class="md-icon-button launch">
                                    <md-icon style="font-size:40px; color:red;"> query_builder </md-icon>
                                </md-button>
                                15'
                                <!-- Justified Delay -->
                                <md-button
                                           ng-if="student.control.assistance"
                                           title="Launch Google.com in new window"
                                           target="_blank"
                                           ng-disabled="true"
                                           ng-click="vm.changeAssistanceForStudent(student.studentId)"
                                           aria-label="Google.com"
                                           class="md-icon-button launch">
                                    <md-icon style="font-size:40px; color:greenyellow;"> verified_user </md-icon>
                                </md-button>
                                <md-button
                                           ng-if="!student.control.assistance"
                                           title="Launch Google.com in new window"
                                           target="_blank"
                                           ng-disabled="false"
                                           ng-click="vm.changeAssistanceForStudent(student.studentId)"
                                           aria-label="Google.com"
                                           class="md-icon-button launch">
                                    <md-icon style="font-size:40px; color:red;"> verified_user </md-icon>
                                </md-button>

                                <!-- Uniform -->
                                <md-button
                                           ng-if="student.control.assistance"
                                           title="Launch Google.com in new window"
                                           target="_blank"
                                           ng-disabled="true"
                                           ng-click="vm.changeAssistanceForStudent(student.studentId)"
                                           aria-label="Google.com"
                                           class="md-icon-button launch">
                                    <md-icon style="font-size:40px; color:greenyellow;"> visibility </md-icon>
                                </md-button>

                                <md-button
                                           ng-if="!student.control.assistance"
                                           title="Launch Google.com in new window"
                                           target="_blank"
                                           ng-disabled="false"
                                           ng-click="vm.changeAssistanceForStudent(student.studentId)"
                                           aria-label="Google.com"
                                           class="md-icon-button launch">
                                    <md-icon style="font-size:40px; color:red;"> visibility_off </md-icon>
                                </md-button>

                            </div>

                            <md-divider ng-if="!$last"></md-divider>
                        </md-list-item>
                    </md-list>


                </md-card>
            </div>
        </div>
    </div>

</div>
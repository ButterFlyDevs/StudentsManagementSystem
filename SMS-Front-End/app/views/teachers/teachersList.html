<h1>This is a teachers list</h1>

<div flex ng-controller="teachersListController as vm">

    this: {{vm.text}}

<!-- table wrapper -->
                <md-card style="background-color: #FFFFFF;>

                    <!-- toolbar for the table -->
                    <md-toolbar class="md-table-toolbar md-default">

                        <!-- search -->
                        <md-card-title>
                            <md-card-title-text>

                                <md-input-container>
                                    <md-icon>search</md-icon>
                                    <!-- layout="" to avoid parent layout -->
                                    <label layout="">"Buscar"</label>
                                    <input type="text" ng-model="vm.query">
                                </md-input-container>


                            </md-card-title-text>
                        </md-card-title>
                    </md-toolbar>


                    <!-- table -->

                    <md-table-container>
                        <table md-table md-progress="vm.promise">
                            <thead md-head md-order="vm.sortField" md-on-reorder="vm.onReorder">
                            <tr md-row>
                                <th md-column></th>
                                <th md-column md-order-by="name"><span>{{ _("User") }}</span></th>
                                <th md-column></th> <!-- space to profile image -->
                                <th md-column><span>{{ _("Last login") }}</span></th>
                                <th md-column><span>{{ _("Log count") }}</span></th>
                                <th md-column></th>
                            </tr>
                            </thead>
                            <tbody md-body>
                            <!-- Where we iterate through items list -->
                            <tr md-row ng-repeat="item in vm.teachersList">


                                <!-- Edit button -->
                                <td md-cell>
                                    <md-button ng-click="go('/users/'+item._id)" class="md-fab md-mini md-primary">
                                        <md-icon md-font-icon="fa fa-pencil"></md-icon>
                                    </md-button>
                                </td>

                                <!-- User identification -->

                                <td md-cell>

                                    <div ng-switch="item.img || '_undefined_'">
                                        <img ng-switch-when="_undefined_" class="img-profile" src="{{ vm.defaultAvatar }}">
                                        <img ng-switch-default class="img-profile" src="{{ item.img }}">
                                    </div>


                                </td>

                                <!-- If user has a name, we prefer show this, but if doesn't have then we show their email.-->
                                <td md-cell>
                                    <div ng-switch="item.name || '_undefined_'">
                                        <span ng-switch-when="_undefined_">{{ item.email }}</span>
                                        <!-- Isn't important if he has surname-->
                                        <span ng-switch-default>{{ item.name }} {{ item.surname }}</span>
                                    </div>
                                </td>

                                <!-- User last login -->
                                <td md-cell>
                                    <span>{{ item.last_login_at.substring(0,10) }}</span>
                                </td>

                                <!-- User login count -->
                                <td md-cell>
                                    <span>{{ item.login_count }}</span>
                                </td>

                                <!-- User del button -->
                                <td md-cell>
                                    <md-button ng-click="vm.showConfirm(0, item._id)"
                                               class="md-fab md-mini md-danger">
                                        <!--Using http://fontawesome.io/icons/ (fa) and the name of icon selected with "fa-" after-->
                                        <md-icon md-font-icon="fa fa-trash"></md-icon>
                                    </md-button>
                                </td>


                            </tr>
                            </tbody>
                        </table>
                    </md-table-container>

                    <md-table-pagination md-limit="vm.limit"
                                         md-page="vm.page" md-total="{{vm.data.total}}"
                                         md-page-select md-boundary-links md-on-paginate="vm.onPaginate">
                    </md-table-pagination>

                </md-card>


</div>
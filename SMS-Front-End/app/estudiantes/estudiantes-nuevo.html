




















<!--Importamos las librerías necesarias -->
<!-- concatenated flow.js + ng-flow libraries -->
<!--Controlador de esta vista -->
<!--<script src="ControladorNuevoEstudiante.js"></script>-->

<!--
<div flow-init="{target: '/upload'}"
     flow-files-submitted="$flow.upload()"
     flow-file-success="$file.msg = $message">

  <input type="file" flow-btn/>
  Input OR Other element as upload button
  <span class="btn" flow-btn>Upload File</span>

  <table>
    <tr ng-repeat="file in $flow.files">
        <td>{{$index+1}}</td>
        <td>{{file.name}}</td>
        <td>{{file.msg}}</td>
    </tr>
  </table>
</div>
-->
<!-- Uso de la librería ng-flow para la subida de imágenes -->

<!--
<div class="container"  flow-init
      flow-file-added="!!{png:1,gif:1,jpg:1,jpeg:1}[$file.getExtension()]"
      flow-files-submitted="$flow.upload()">
  <h1>flow image example</h1>
  <hr class="soften"/>


  <div>
    <div class="thumbnail" ng-hide="$flow.files.length">
      <img src="http://www.placehold.it/200x150/EFEFEF/AAAAAA&text=no+image" />
    </div>
    <div class="thumbnail" ng-show="$flow.files.length">
      <img flow-img="$flow.files[0]" />
      <h2>{{$flow.files[0].name}}</h2>
    </div>
    <div>
      <span class="uk-button" ng-hide="$flow.files.length" flow-btn flow-attrs="{accept:'image/*'}">Select image</span>

      <a href="#" class="btn" ng-show="$flow.files.length" flow-btn flow-attrs="{accept:'image/*'}">Change</a>
      <a href="#" class="btn btn-danger" ng-show="$flow.files.length" ng-click="$flow.cancel()"> Remove </a>

      <span class="uk-button" flow-btn>Upload File</span>

    </div>
    <p>
      Only PNG,GIF,JPG files allowed.
    </p>
  </div>
</div>
-->



<!--
<div ng-controller="UploadCtrl" >
  <div flow-init
       flow-name="uploader.flow"
       flow-files-added="processFiles($files)">
    <button flow-btn type="file">Upload Images</button>
    <div ng-repeat="image in uploader.flow.files track by $index">
      <span class="text">Blob image displayed with "flow-img"</span><img class="preview" flow-img="image"/><br>
        <span class="text">Base64 image displayed with "ng-src"</span> <img class="preview" ng-src="{{imageStrings[$index]}}"/>
    </div>
  </div>
</div>
-->







<!--
<div data-ng-controller="controladorSubidaImagenes">
  	<form name="upload" ng-submit="uploadFile()">
          <input type="text" ng-model="name" /><br>
          <input type="file" name="file" uploader-model="file" /> <br>
          <h1>Imagen; </h1>
          <img ng-src="{{image_source}}">
          <input type="submit" value="Enviar">
      </form>
      <img ng-src="{{image_source}}">
      <input type="file" id="trigger" class="ng-hide" onchange="angular.element(this).scope().setFile(this)" accept="image/*">
</div>


<p class="uk-h2">Registro de un nuevo estudiante </p>
<hr>
-->
<!-- Definición del formulario de inscripción de un nuevo estudiantes -->
<!-- Usamos no validate para hacer que sea angular quien haga todo el trabajo -->

<p class="uk-h2">Registro de un nuevo estudiante </p>
<hr>

<form class="uk-form" name="formNuevoAlumno" novalidate>
  <div flow-init flow-name="uploader.flow">


  <div class="uk-grid">

      <div class="uk-width-1-4 uk-margin-top">
      <!--   <div ng-controller="UploadCtrl2" >-->

          <!-- flow-files-added="processFiles($files)" -->



            <div class="uk-thumbnail uk-overlay-hover uk-border-circle">
              <figure class="uk-overlay">

                  <div ng-if="uploader.flow.files[0] == None">
                    <!--Cuando no se ha cargado ninguna foto se muestra el fondo por defecto.-->
                    <img class="uk-border-circle" width="150" height="150" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxNi4wLjQsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkViZW5lXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iMjUwcHgiIGhlaWdodD0iMjUwcHgiIHZpZXdCb3g9IjAgMCAyNTAgMjUwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyNTAgMjUwIiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxyZWN0IGZpbGw9IiNGNUY1RjUiIHdpZHRoPSIyNTAiIGhlaWdodD0iMjUwIi8+DQo8Zz4NCgk8cGF0aCBmaWxsPSIjRDhEOEQ4IiBkPSJNMjI3LjgxOCwyMDcuMjQ1Yy0xLjA0NS01Ljg0Ny0yLjM2OS0xMS4yNTktMy45NjUtMTYuMjUyYy0xLjU5OC00Ljk5NC0zLjc0Mi05Ljg1OS02LjQ0MS0xNC42MDYNCgkJYy0yLjY5Ny00Ljc0LTUuNzg5LTguNzg1LTkuMjgzLTEyLjEzMWMtMy41MDEtMy4zNDMtNy43NjgtNi4wMTUtMTIuODA5LTguMDEyYy01LjA0NS0xLjk5Ni0xMC42MTEtMi45OTUtMTYuNy0yLjk5NQ0KCQljLTAuODk3LDAtMi45OTQsMS4wNzQtNi4yOTEsMy4yMTljLTMuMjk1LDIuMTUtNy4wMTcsNC41NDYtMTEuMTU4LDcuMTg4Yy00LjE0NiwyLjY0Ni05LjUzNyw1LjA0NC0xNi4xNzYsNy4xODkNCgkJYy02LjY0MiwyLjE0OC0xMy4zMDgsMy4yMjEtMTkuOTk1LDMuMjIxYy02LjY4OSwwLTEzLjM1NC0xLjA3MS0xOS45OTUtMy4yMjFjLTYuNjQzLTIuMTQ2LTEyLjAzNi00LjU0My0xNi4xNzYtNy4xODkNCgkJYy00LjE0OC0yLjY0My03Ljg2My01LjAzNy0xMS4xNTgtNy4xODhjLTMuMjk1LTIuMTQ1LTUuMzkxLTMuMjE5LTYuMjkxLTMuMjE5Yy02LjA5NSwwLTExLjY2MSwwLjk5OS0xNi43MDEsMi45OTUNCgkJYy01LjA0MSwxLjk5Ny05LjMxMyw0LjY2OS0xMi44MDMsOC4wMTJjLTMuNTAxLDMuMzQ2LTYuNTkyLDcuMzkxLTkuMjg3LDEyLjEzMWMtMi42OTYsNC43NDctNC44NDcsOS42MTItNi40NDEsMTQuNjA2DQoJCWMtMS41OTcsNC45OTMtMi45MjIsMTAuNDA1LTMuOTcxLDE2LjI1MmMtMS4wNDYsNS44MzktMS43NDgsMTEuMjgtMi4wOTYsMTYuMzIzYy0wLjM0OSw1LjA0My0wLjUyNCwxMC4yMTMtMC41MjQsMTUuNQ0KCQljMCwzLjkyNSwwLjQzMiw3LjU1LDEuMjExLDEwLjkzMmgyMDguNDY0YzAuNzgxLTMuMzgyLDEuMjEzLTcuMDA3LDEuMjEzLTEwLjkzMmMwLTUuMjg3LTAuMTc2LTEwLjQ1Ny0wLjUyNi0xNS41DQoJCUMyMjkuNTY2LDIxOC41MjUsMjI4Ljg2OSwyMTMuMDg0LDIyNy44MTgsMjA3LjI0NXoiLz4NCgk8cGF0aCBmaWxsPSIjRDhEOEQ4IiBkPSJNMTI1LDE2Mi44MzRjMTUuODc1LDAsMjkuNDMtNS42MTcsNDAuNjY2LTE2Ljg1YzExLjIzMi0xMS4yMzUsMTYuODUtMjQuNzg5LDE2Ljg1LTQwLjY2Nw0KCQljMC0xNS44NzctNS42MTctMjkuNDI5LTE2Ljg1LTQwLjY2M0MxNTQuNDMsNTMuNDIyLDE0MC44NzUsNDcuODA0LDEyNSw0Ny44MDRzLTI5LjQzNCw1LjYxOS00MC42NjQsMTYuODUyDQoJCUM3My4xLDc1Ljg5LDY3LjQ4NCw4OS40NDEsNjcuNDg0LDEwNS4zMThjMCwxNS44NzgsNS42MTUsMjkuNDMxLDE2Ljg1Miw0MC42NjdDOTUuNTY2LDE1Ny4yMTcsMTA5LjEyNSwxNjIuODM0LDEyNSwxNjIuODM0eiIvPg0KPC9nPg0KPC9zdmc+DQo=" alt="">
                  </div>
                  <div ng-if="uploader.flow.files[0] != None">
                    <!--Cuando la imagen se carga se muestra en el lugar. -->
                    <img class="uk-border-circle" width="150" height="150" flow-img="uploader.flow.files[0]" alt="">
                  </div>


                  <figcaption class="uk-overlay-panel uk-overlay-background uk-flex uk-flex-center uk-flex-middle uk-text-center uk-border-circle">
                    <div>
                        <!--<span class="uk-icon-button uk-icon-plus"></span>-->
                        <button class="uk-icon-button uk-icon-plus" flow-btn type="file"></button>

                    </div>
                  </figcaption>
              </figure>

            </div>


              <input value="Enviar2" type="submit" ng-click="uploadFiles($flow)" />


           <!-- Fin de la sección de flow-init -->


      <!--   </div> <div ng-controller="UploadCtrl2" > -->
      </div>

      <div class="uk-width-3-4 uk-margin-top">
        <fieldset data-uk-margin>

            <!-- Campo nombre -->
            <!--<input type="text" name="nombre" placeholder="Nombre" ng-model="alumno.nombre"  equired >-->

            <input  type="text" ng-model="nombreAlumno" placeholder="Nombre" name="nombre" ng-class="{ 'uk-form-danger' : formNuevoAlumno.nombre.$invalid && !formNuevoAlumno.$pristine }" ng-minlength="3"   required>


            <!-- Campo apellidos -->
            <input type="text" placeholder="Apellidos" name="apellidos" ng-class="{ 'uk-form-danger' : formNuevoAlumno.apellidos.$invalid && formNuevoAlumno.apellidos.$dirty }" ng-model="alumno.apellidos" ng-minlength="3" required>
            <!--<input type="text" name="username" class="form-control" ng-model="user.username" ng-minlength="3" ng-maxlength="8">-->
            <p ng-show="formNuevoAlumno.apellidos.$error.minlength" class="uk-text-danger">El apellido es demasiado corto.</p>
            <!--<p ng-show="userForm.username.$error.maxlength" class="help-block">Username is too long.</p>-->


            <br class="uk-margin-bottom">
            <!-- Campo direccion -->
            <input type="text" placeholder="Dirección" name="direccion" ng-model="alumno.direccion" required>

            <!-- Campo localidad -->
            <input type="text" placeholder="Localidad" name="localidad" ng-model="alumno.localidad" required>

            <br class="uk-margin-bottom">
            <!-- Campo provincia -->
            <input type="text" placeholder="Provincia" name="provincia" ng-model="alumno.provincia" required>

            <!-- Campo fecha nacimiento -->
            <input type="text" placeholder="Fecha Nacimiento" name="fecha_nacimiento" ng-model="alumno.fecha_nacimiento" required>

            <br class="uk-margin-bottom">
            <!-- Campo telefono -->
            <input type="text" placeholder="Teléfono" name="telefono" ng-model="alumno.telefono" required>

            <!-- Campo DNI -->
            <input type="text" placeholder="DNI" name="dni" ng-model="alumno.dni" required>


            <!-- Mensajes de error -->
            <p ng-show="formNuevoAlumno.nombre.$error.minlength" class="uk-text-danger"><i class="uk-icon-info-circle"></i>   El nombre es demasiado corto.</p>



            <!-- Botón de enviar
            Este botón responde a la función definida en el controlador con el nombre puesto en ng-submit, en este caso:submitForm()
            -->
            <br class="uk-margin-bottom">

            <!--Añadimos el CSS y el javascript necesarios para poder usar las notificaciones flotantes -->
            <link type="text/css" rel="stylesheet" href="app/css/components/notify.gradient.css" />
            <script type="text/javascript" src="app/js/components/notify.js"></script>

            <button  ng-click="submitForm($flow)" class="uk-button"  data-message="Success message..." data-status="success" ng-class="{ 'uk-button-success' : !formNuevoAlumno.$invalid }" ng-disabled="formNuevoAlumno.$invalid">Submit</button>
            <!--<script>
               $(function(){
                   $("body").on("click", ".uk-button[data-message]", function(){
                      // $.UIkit.notify($(this).data());
                       $.UIkit.notify("Alumno guardado con éxito.");

                   });
               })
               </script>
             -->


            <!-- <input type="submit" class="uk-button" ng-click="submitForm(alumno)" />-->
            <!-- <button class="uk-button" ng-click="addAlumno()">Enviar</button> -->
            <br class="uk-margin-top">
        </fieldset>
      </div>

  </div> <!--fin div del grid-->

</div> <!-- div flow -->
</form>



<style>
input.submitted.ng-invalid
{
  border:1px solid #f00;
}
</style>


{{respuesta}}

/* skel-layers.js v1.0.2 | (c) n33 | getskel.com | MIT licensed */
skel.registerPlugin("layers",function(e){function fn(e,r,i){var o,u;this.id=e,this.index=i,this[n]={breakpoints:x,states:x,position:x,side:x,animation:mt,orientation:mt,width:0,height:0,zIndex:this.index,html:"",hidden:H,exclusive:Pt,resetScroll:Pt,resetForms:Pt,swipeToHide:Pt,clickToHide:H},t._.extend(this[n],r),this[j]=t._.newDiv(this[n][Bt]),this[j].id=e,this[j]._layer=this,this[s]=x,this[bt]=x,this[yt]=x,this[W]=H,u=t._.newElement(this.id,this[j],st,1),u.onAttach=function(){var e=this[Xt]._layer;e[et]()||e.init(),e.resume()},u.onDetach=function(){var e=this[Xt]._layer;e.suspend()},this[n].states&&this[n].states!=t._.sd?(t._.cacheElement(u),o=t._[rn](this[n].states),t._[Ot](o,function(e){t._.addCachedElementToState(o[e],u)})):this[n].breakpoints?(t._.cacheElement(u),o=t._[rn](this[n].breakpoints),t._[Ot](o,function(e){t._.addCachedElementToBreakpoint(o[e],u)})):t._.attachElement(u)}var t,n="config",r="_skel_layers_translateOrigin",i="cache",s="$element",o="_skel_layers_translate",u="visibleWrapper",f="_skel_layers_resetForms",l="_skel_layers_resume",c="exclusiveLayer",h="_skel_layers_promote",p="_skel_layers_demote",d="moveToVisibleWrapper",v="setTimeout",m="moveToHiddenWrapper",g="right",y="bottom",b="position",w="useActive",E="width",S="css",x=null,T="center",N="_skel_layers_suspend",C="prototype",k="left",L="wrapper",A="skel-layers-layer-z-index",O="_skel_layers_init",M="children",_="skel-layers-moved",D="overflow-x",P="hiddenWrapper",H=!1,B="scrollTop",j="element",F="transform",I=".skel-layers-fixed:not(.skel-layers-moved)",q="height",R="length",U="top",z="touchstart.lock click.lock scroll.lock",W="visible",X='<div id="skel-layers-placeholder-',V="resetForms",$="recalcW",J="-webkit-",K="skel-layers-exclusiveVisible",Q="padding-bottom",G="originalEvent",Y="animation",Z="-webkit-tap-highlight-color",et="isInitialized",tt="hidden",nt="skel-layers-layer-position",rt="skel-layers-layer-index",it="z-index",st="skel_layers_hiddenWrapper",ot="animations",ut="unlockView",at="#skel-layers-placeholder-",ft="_skel_layers_initializeCell",lt="layers",ct="append",ht="registerLocation",pt="resize.lock scroll.lock",dt="speed",vt="orientationchange.lock",mt="none",gt="undefined",yt="touchPosY",bt="touchPosX",wt="positions",Et="window",St="stopPropagation",xt="_skel_layers_expandCell",Tt="-moz-",Nt="preventDefault",Ct="attr",kt="_skel_layers_hasParent",Lt="find",At="deviceType",Ot="iterate",Mt="lockView",_t="addClass",Dt="-ms-",Pt=!0,Ht="DOMReady",Bt="html",jt="auto",Ft="hide",It="transformBreakpoints",qt="-o-",Rt="_skel_layers_xcss",Ut="rgba(0,0,0,0)",zt="removeClass",Wt="appendTo",Xt="object",Vt="cell-size",$t="body",Jt="px",Kt="-",Qt="recalcH",Gt="isVisible",Yt="touches",Zt="side",en="relative",tn="show",nn="x",rn="getArray",sn="*",on="htmlbody",un="#",an="transformTest";return typeof e==gt?H:(e.fn[p]=function(){var t,n;if(this[R]>1){for(t=0;t<this[R];t++)e(this[t])[p]();return e(this)}return n=e(this),n[S](it,n.data(A)).data(A,""),n},e.fn[xt]=function(){var t=e(this),n=t.parent(),r=12;n[M]().each(function(){var t=e(this),n=t[Ct]("class");n&&n.match(/(\s+|^)([0-9]+)u(\s+|$)/)&&(r-=parseInt(RegExp.$2))}),r>0&&(t[ft](),t[S](E,(t.data(Vt)+r)/12*100+"%"))},e.fn[kt]=function(){return e(this).parents()[R]>0},e.fn[ft]=function(){var t=e(this);t[Ct]("class").match(/(\s+|^)([0-9]+)u(\s+|$)/)&&t.data(Vt,parseInt(RegExp.$2))},e.fn[h]=function(r){var i,s,o;if(this[R]>1){for(i=0;i<this[R];i++)e(this[i])[h](r);return e(this)}return s=e(this),isNaN(o=parseInt(s.data(rt)))&&(o=0),s.data(A,s[S](it))[S](it,t[n].baseZIndex+o+(r?r:1)),s},e.fn[f]=function(){var t=e(this);return e(this)[Lt]("form").each(function(){this.reset()}),t},e.fn[Rt]=function(t,n){return e(this)[S](t,n)[S](Tt+t,Tt+n)[S](J+t,J+n)[S](qt+t,qt+n)[S](Dt+t,Dt+n)},e.fn._skel_layers_xcssProperty=function(t,n){return e(this)[S](t,n)[S](Tt+t,n)[S](J+t,n)[S](qt+t,n)[S](Dt+t,n)},e.fn._skel_layers_xcssValue=function(t,n){return e(this)[S](t,n)[S](t,Tt+n)[S](t,J+n)[S](t,qt+n)[S](t,Dt+n)},fn[C][ot]={none:{show:function(e){var t=e[n],r=e[s];r[B](0)[h](t.zIndex)[tn](),t[V]&&r[f](),e[d]()},hide:function(e){var t=e[n],r=e[s];r[Ft]()[p](),e[m]()}},overlayX:{show:function(e){var r=e[n],i=e[s];i[B](0)[h](r.zIndex)[S](r[Zt],Kt+t[$](t._[w](r[E]))+Jt)[tn](),r[V]&&i[f](),t[Mt](nn),e[d](),window[v](function(){i[o]((r[Zt]==g?Kt:"")+t[$](t._[w](r[E])),0)},50)},hide:function(e){var i=e[n],o=e[s];o[Lt](sn).blur(),o[r](),window[v](function(){t[ut](nn),e[m](),o[p]()[Ft]()},t[n][dt]+50)}},overlayY:{show:function(e){var r=e[n],i=e[s];i[B](0)[h](r.zIndex)[S](r[Zt],Kt+t[$](t._[w](r[q]))+Jt)[tn](),r[V]&&i[f](),t[Mt]("y"),e[d](),window[v](function(){i[o](0,(r[Zt]==y?Kt:"")+t[$](t._[w](r[q])))},50)},hide:function(e){var i=e[n],o=e[s];o[Lt](sn).blur(),o[r](),window[v](function(){t[ut]("y"),e[m](),o[p]()[Ft]()},t[n][dt]+50)}},pushX:{show:function(e){var r=e[n],a=e[s],l=t[i][L].add(t[i][u][M]());a[B](0)[S](r[Zt],Kt+t[$](t._[w](r[E]))+Jt)[tn](),r[V]&&a[f](),l[h](),t[Mt](nn),e[d](),window[v](function(){a.add(l)[o]((r[Zt]==g?Kt:"")+t[$](t._[w](r[E])),0)},50)},hide:function(e){var o=e[n],a=e[s],f=t[i][L].add(t[i][u][M]());a[Lt](sn).blur(),a.add(f)[r](),window[v](function(){t[ut](nn),a[Ft](),e[m](),f[p]()},t[n][dt]+50)}},pushY:{show:function(e){var r=e[n],a=e[s],l=t[i][L].add(t[i][u][M]());a[B](0)[S](r[Zt],Kt+t[Qt](t._[w](r[q]))+Jt)[tn](),r[V]&&a[f](),t[Mt]("y"),e[d](),window[v](function(){a.add(l)[o](0,(r[Zt]==y?Kt:"")+t[Qt](t._[w](r[q])))},50)},hide:function(e){var o=e[n],a=e[s],f=t[i][L].add(t[i][u][M]());a[Lt](sn).blur(),a.add(f)[r](),window[v](function(){t[ut]("y"),a[Ft](),e[m]()},t[n][dt]+50)}},revealX:{show:function(e){var r=e[n],a=e[s],l=t[i][L].add(t[i][u][M]());a[B](0)[tn](),r[V]&&a[f](),l[h](),t[Mt](nn),e[d](),window[v](function(){l[o]((r[Zt]==g?Kt:"")+t[$](t._[w](r[E])),0)},50)},hide:function(e){var o=e[n],a=e[s],f=t[i][L].add(t[i][u][M]());a[Lt](sn).blur(),f[r](),window[v](function(){t[ut](nn),a[Ft](),f[p](),e[m]()},t[n][dt]+50)}}},fn[C][wt]={"top-left":{v:U,h:k,side:k},"top-right":{v:U,h:g,side:g},top:{v:U,h:T,side:U},"top-center":{v:U,h:T,side:U},"bottom-left":{v:y,h:k,side:k},"bottom-right":{v:y,h:g,side:g},bottom:{v:y,h:T,side:y},"bottom-center":{v:y,h:T,side:y},left:{v:T,h:k,side:k},"center-left":{v:T,h:k,side:k},right:{v:T,h:g,side:g},"center-right":{v:T,h:g,side:g}},fn[C][tn]=function(){var e,r,o,a,f;if(this[W]){t[i][u][ct](this[j]);return}e=this,r=this[n],o=t._[w](r[Y]),a=this[s],a[S](E,t._[w](r[E]))[S](q,t._[w](r[q])),t._.vars[At]=="ios"&&(r[q]=="100%"&&!r[tt]&&a[S](q,"-webkit-calc("+t._[w](r[q])+" + 70px)"),a.on("blur","input,select,textarea",function(){window[v](function(){t[i][P][ct](e[j]),window[v](function(){t[i][u][ct](e[j])},500)},500)})),f=this[wt][r[b]],a[_t]("skel-layer-"+r[b]).data(nt,r[b]);switch(f.v){case U:a[S](U,0);break;case y:a[S](y,0);break;case T:a[S](U,"50%")[S]("margin-top",Kt+t.getHalf(r[q]))}switch(f.h){case k:a[S](k,0);break;case g:a[S](g,0);break;case T:a[S](k,"50%")[S]("margin-left",Kt+t.getHalf(r[E]))}this[ot][o][tn](this),r[tt]&&r.exclusive&&(t[i][$t][_t](K),t[i][c]=this),this[W]=Pt},fn[C][Ft]=function(){var e,r;if(!this[W]){t[i][P][ct](this[j]);return}e=this[n],r=t._[w](e[Y]),r in this[ot]||(r=mt),this[ot][r][Ft](this),e[tt]&&e.exclusive&&t[i][c]===this&&(t[i][$t][zt](K),t[i][c]=x),this[W]=H},fn[C].init=function(){var r=this[n],i=e(this[j]),o=this;i[O](),i[Lt](sn).each(function(){t.parseInit(e(this))}),i[_t]("skel-layer").data(rt,this.index)[S](it,t[n].baseZIndex)[S](b,"fixed")[S]("-ms-overflow-style","-ms-autohiding-scrollbar")[S]("-webkit-overflow-scrolling","touch")[Ft]();switch(r.orientation){case"vertical":i[S]("overflow-y",jt);break;case"horizontal":i[S](D,jt);break;case mt:default:}if(!r[b]||!(r[b]in this[wt]))r[b]="top-left";r[Zt]||(r[Zt]=this[wt][r[b]][Zt]);if(!r[Y]||typeof r[Y]!==Xt&&!(r[Y]in this[ot]))r[Y]=mt;r.clickToHide&&i[Lt]("a")[S](Z,Ut).on("click.skel-layers",function(r){var i,s,u=e(this);if(u.hasClass("skel-layers-ignore"))return;r[Nt](),r[St](),o[Ft]();if(u.hasClass("skel-layers-ignoreHref"))return;i=u[Ct]("href"),s=u[Ct]("target"),typeof i!==gt&&i!=""&&window[v](function(){s=="_blank"&&t._.vars[At]!="wp"?window.open(i):window.location.href=i},t[n][dt]+10)}),i.on("touchstart",function(e){o[bt]=e[G][Yt][0].pageX,o[yt]=e[G][Yt][0].pageY}).on("touchmove",function(e){var t,n,s,u,a,f,l;if(o[bt]===x||o[yt]===x)return;t=o[bt]-e[G][Yt][0].pageX,n=o[yt]-e[G][Yt][0].pageY,s=i.outerHeight(),u=i.get(0).scrollHeight-i[B]();if(r[tt]&&r.swipeToHide){a=H,f=20,l=50;switch(r[Zt]){case k:a=n<f&&n>-1*f&&t>l;break;case g:a=n<f&&n>-1*f&&t<-1*l;break;case U:a=t<f&&t>-1*f&&n>l;break;case y:a=t<f&&t>-1*f&&n<-1*l}if(a)return o[bt]=x,o[yt]=x,o[Ft](),H}if(i[B]()==0&&n<0||u>s-2&&u<s+2&&n>0)return H}),this[s]=i},fn[C][et]=function(){return this[s]!==x},fn[C][Gt]=function(){return this[s].is(":visible")},fn[C][d]=function(){t[i][u][ct](this[s])},fn[C][m]=function(){if(!this[s][kt]())return;t[i][P][ct](this[s])},fn[C].resume=function(r){if(!this[et]())return;this[s][Lt](sn).each(function(){t.parseResume(e(this))}),this[n][tt]||this[tn](r)},fn[C].suspend=function(){if(!this[et]())return;this[s][r](),this[s][Lt](sn).each(function(){t.parseSuspend(e(this))}),this[W]&&this[Ft]()},t={cache:{visibleWrapper:x,body:x,exclusiveLayer:x,html:x,htmlbody:x,hiddenWrapper:x,layers:{},window:x,wrapper:x},config:{baseZIndex:1e4,layers:{},speed:250,transform:Pt,transformBreakpoints:x,transformTest:x},eventType:"click touchend",show:function(e){t._[Ht](function(){t[i][lt][e][tn]()})},hide:function(e){t._[Ht](function(){t[i][lt][e][Ft]()})},toggle:function(e){t._[Ht](function(){var n=t[i][lt][e];n[Gt]()?n[Ft]():n[tn]()})},getBaseFontSize:function(){return t._.vars.IEVersion<9?16.5:parseFloat(getComputedStyle(t[i][$t].get(0)).fontSize)},getHalf:function(e){var t=parseInt(e);return typeof e=="string"&&e.charAt(e[R]-1)=="%"?Math.floor(t/2)+"%":Math.floor(t/2)+Jt},lockView:function(e){t[i][Et]._skel_layers_scrollPos=t[i][Et][B](),e==nn&&t[i][on][S](D,tt),t[i][L].on(z,function(e){e[Nt](),e[St](),t[i][c]&&t[i][c][Ft]()}),t[i][Et].on(vt,function(e){t[i][c]&&t[i][c][Ft]()}),t._.vars.isMobile||window[v](function(){t[i][Et].on(pt,function(e){t[i][c]&&t[i][c][Ft]()})},t[n][dt]+50)},parseInit:function(n){var r,s,o=n.get(0),u=n[Ct]("data-action"),a=n[Ct]("data-args"),f,h;u&&a&&(a=a.split(","));switch(u){case"toggleLayer":case"layerToggle":n[S](Z,Ut)[S]("cursor","pointer"),r=function(n){n[Nt](),n[St]();if(t[i][c])return t[i][c][Ft](),H;var r=e(this),s=t[i][lt][a[0]];s[Gt]()?s[Ft]():s[tn]()},n.on(t.eventType,r);break;case"navList":f=e(un+a[0]),r=f[Lt]("a"),s=[],r.each(function(){var t=e(this),n,r;n=Math.max(0,t.parents("li")[R]-1),r=t[Ct]("href"),s.push('<a class="link depth-'+n+'"'+(typeof r!==gt&&r!=""?' href="'+r+'"':"")+'><span class="indent-'+n+'"></span>'+t.text()+"</a>")}),s[R]>0&&n[Bt]("<nav>"+s.join("")+"</nav>");break;case"copyText":f=e(un+a[0]),n[Bt](f.text());break;case"copyHTML":f=e(un+a[0]),n[Bt](f[Bt]());break;case"moveElementContents":f=e(un+a[0]),o[l]=function(){f[M]().each(function(){var t=e(this);n[ct](t),t[_t](_)})},o[N]=function(){n[M]().each(function(){var n=e(this);f[ct](n),n[zt](_),t.refresh(n)})},o[l]();break;case"moveElement":f=e(un+a[0]),o[l]=function(){e(X+f[Ct]("id")+'" />').insertBefore(f),n[ct](f),f[_t](_)},o[N]=function(){e(at+f[Ct]("id")).replaceWith(f),f[zt](_),t.refresh(f)},o[l]();break;case"moveCell":f=e(un+a[0]),h=e(un+a[1]),o[l]=function(){e(X+f[Ct]("id")+'" />').insertBefore(f),n[ct](f),f[S](E,jt),h&&h[xt]()},o[N]=function(){e(at+f[Ct]("id")).replaceWith(f),f[S](E,""),h&&h[S](E,"")},o[l]();break;default:}},parseResume:function(e){var t=e.get(0);t[l]&&t[l]()},parseSuspend:function(e){var t=e.get(0);t[N]&&t[N]()},recalc:function(e,n){var r=t._.parseMeasurement(e),i;switch(r[1]){case"%":i=Math.floor(n*(r[0]/100));break;case"em":i=t.getBaseFontSize()*r[0];break;default:case Jt:i=r[0]}return i},recalcH:function(n){return t.recalc(n,e(window)[q]())},recalcW:function(n){return t.recalc(n,e(window)[E]())},refresh:function(r){var s;t[n][F]&&(r?s=r.filter(I):s=e(I),s[O]()[Wt](t[i][u]))},unlockView:function(e){e==nn&&t[i][on][S](D,W),t[i][L].off(z),t[i][Et].off(vt),t._.vars.isMobile||t[i][Et].off(pt)},init:function(){n in t[n]&&(t._.extend(t[n],t[n][n]),delete t[n][n]),t._[Ot](t[n],function(e){t[n][e]&&typeof t[n][e]==Xt&&b in t[n][e]&&(t[n][lt][e]=t[n][e],delete t[n][e])}),t[n][an]&&(t[n][F]=t[n][an]());if(t[n][F]){if(t._.vars[At]=="android"&&t._.vars.deviceVersion<4||t._.vars[At]=="wp")t[n][F]=H;t._.vars.IEVersion<10&&(t[n][F]=H),t[n][It]&&!t._.hasActive(t._[rn](t[n][It]))&&(t[n][F]=H)}t.initObjects(),t.initTransforms(),t._[Ht](function(){t.initLayers(),t.initIncludes(),t._.updateState(),t.refresh()})},initIncludes:function(){e(".skel-layers-include").each(function(){t.parseInit(e(this))})},initLayers:function(){var r,s,o,u=1;t._[Ot](t[n][lt],function(r){var s;if(!(b in t[n][lt][r]))return;if(!t[n][lt][r][Bt]&&(s=e(un+r))[R]==0)return;o=new fn(r,t[n][lt][r],u++),t[i][lt][r]=o,s&&(s[M]()[Wt](o[j]),s.remove())})},initObjects:function(){t[i][Et]=e(window),t._[Ht](function(){t[i][Bt]=e(Bt),t[i][$t]=e($t),t[i][on]=e("html,body"),t[i][$t].wrapInner('<div id="skel-layers-wrapper" />'),t[i][L]=e("#skel-layers-wrapper"),t[i][L][S](b,en)[S](k,"0")[S](g,"0")[S](U,"0")[O](),t[i][P]=e('<div id="skel-layers-hiddenWrapper" />')[Wt](t[i][$t]),t[i][P][S](q,"100%"),t[i][u]=e('<div id="skel-layers-visibleWrapper" />')[Wt](t[i][$t]),t[i][u][S](b,en),t._[ht](st,t[i][P][0]),t._[ht]("skel_layers_visibleWrapper",t[i][u][0]),t._[ht]("skel_layers_wrapper",t[i][L][0]),e("[autofocus]").focus()})},initTransforms:function(){if(t[n][F])e.fn[r]=function(){return e(this)[o](0,0)},e.fn[o]=function(t,n){return e(this)[S](F,"translate("+t+"px, "+n+"px)")},e.fn[O]=function(){return e(this)[S]("backface-visibility",tt)[S]("perspective","500")[Rt]("transition","transform "+t[n][dt]/1e3+"s ease-in-out")};else{var s,u=[];t[i][Et].resize(function(){if(t[n][dt]!=0){var e=t[n][dt];t[n][dt]=0,window[v](function(){t[n][dt]=e,u=[]},e)}}),e.fn[r]=function(){for(var r=0;r<this[R];r++){var s=this[r],o=e(s);u[s.id]&&o.animate(u[s.id],t[n][dt],"swing",function(){t._[Ot](u[s.id],function(e){o[S](e,u[s.id][e])}),t[i][$t][S](D,W),t[i][L][S](E,jt)[S](Q,0)})}return e(this)},e.fn[o]=function(r,s){var o,f,l,c;r=parseInt(r),s=parseInt(s),r!=0?(t[i][$t][S](D,tt),t[i][L][S](E,t[i][Et][E]())):l=function(){t[i][$t][S](D,W),t[i][L][S](E,jt)},s<0?t[i][L][S](Q,Math.abs(s)):c=function(){t[i][L][S](Q,0)};for(o=0;o<this[R];o++){var h=this[o],p=e(h),d;if(!u[h.id])if(d=fn[C][wt][p.data(nt)]){u[h.id]={};switch(d.v){case T:case U:u[h.id][U]=parseInt(p[S](U));break;case y:u[h.id][y]=parseInt(p[S](y))}switch(d.h){case T:case k:u[h.id][k]=parseInt(p[S](k));break;case g:u[h.id][g]=parseInt(p[S](g))}}else d=p[b](),u[h.id]={top:d[U],left:d[k]};a={},t._[Ot](u[h.id],function(e){var n;switch(e){case U:n=t[Qt](u[h.id][e])+s;break;case y:n=t[Qt](u[h.id][e])-s;break;case k:n=t[$](u[h.id][e])+r;break;case g:n=t[$](u[h.id][e])-r}a[e]=n}),p.animate(a,t[n][dt],"swing",function(){l&&l(),c&&c()})}return e(this)},e.fn[O]=function(){return e(this)[S](b,"absolute")}}}},t)}(jQuery));